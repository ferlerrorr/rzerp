{
	"info": {
		"_postman_id": "f352a981-2cc6-49d4-9487-06e434df4f49",
		"name": "RZERP API Collection",
		"description": "Complete API collection for RZERP backend with authentication setup.\n\n## üìå IMPORTANT: Collection Variables Only\n\n**All authentication data and variables are stored in COLLECTION variables only (NOT environment variables).**\n- ‚úÖ All scripts use `pm.collectionVariables` (NOT `pm.environment`)\n- ‚úÖ This ensures authentication data doesn't affect your environment-specific settings\n- ‚úÖ Collection variables are isolated to this collection only\n- ‚úÖ You can safely use this collection without worrying about environment conflicts\n\n## ‚ö†Ô∏è CRITICAL: Environment Configuration\n\n### For Local Development (localhost:8000):\nYour `.env` file MUST have these settings for authentication to work:\n\n```env\nAPP_ENV=local\nAPP_DEBUG=true\nAPP_URL=http://localhost\n\n# Session Configuration for LOCAL\nSESSION_DOMAIN=null\n# OR comment it out: # SESSION_DOMAIN=.socia-dev.com\nSESSION_SECURE_COOKIE=null\n# OR: SESSION_SECURE_COOKIE=false\nSESSION_SAME_SITE=lax\n\n# Sanctum Configuration\nSANCTUM_STATEFUL_DOMAINS=localhost,localhost:3000,localhost:5173,127.0.0.1,127.0.0.1:8000,127.0.0.1:5173,::1\n\n# CORS Configuration\nCORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:3000\n```\n\n### Why Authentication Fails:\nIf your `.env` has **staging settings** (like `SESSION_DOMAIN=.socia-dev.com`, `SESSION_SECURE_COOKIE=true`):\n- ‚ùå Cookies won't be set for `localhost:8000`\n- ‚ùå Secure cookies require HTTPS (localhost is HTTP)\n- ‚ùå Domain mismatch prevents cookie storage\n\n**Solution**: Switch to local environment settings above, then restart your Laravel server.\n\n## üîê Authentication Flow (REQUIRED):\n1. **First**: Call '1. Get CSRF Cookie' - This sets the CSRF token cookie\n2. **Second**: Call '2. Login' - Use your credentials (email/password)\n   - Session cookie will be saved automatically by Postman\n   - Check console for '‚úÖ Session cookie set successfully'\n3. **Then**: Call any protected endpoint like '4. Get Current User'\n\n## ‚öôÔ∏è Postman Settings (CRITICAL):\n1. **Enable Cookies**: Settings (‚öôÔ∏è gear icon) > General > Cookies > **ON**\n2. **Open Console**: View > Show Postman Console (to see cookie diagnostics)\n3. **Check Cookies Tab**: Click 'Cookies' link at bottom of Postman window\n\n## üîß Troubleshooting 'Unauthenticated' Errors:\n\n### Step 0: Check Backend Environment Configuration\n- **Most Common Issue**: `.env` has staging settings but you're using `localhost:8000`\n- Verify your `.env` matches the local development settings above\n- After changing `.env`, **restart your Laravel server**: `php artisan serve`\n- Clear config cache: `php artisan config:clear`\n\n### Step 1: Verify Postman Cookie Settings\n- Go to: Settings (‚öôÔ∏è) > General > Cookies\n- Ensure 'Automatically manage cookies' is **ON**\n- Restart Postman if you just changed this setting\n\n### Step 2: Check Cookies After Login\n- After running '2. Login', click the 'Cookies' link (bottom of Postman)\n- You should see:\n  - ‚úÖ `laravel_session` (or similar) - **This is required!**\n  - ‚úÖ `XSRF-TOKEN` - For CSRF protection\n- If cookies are missing, check Step 0 (environment configuration)\n\n### Step 3: Verify Domain Matching\n- Cookie domain must **exactly match** your base_url\n- If base_url is `http://localhost:8000`, cookie domain should be `localhost` or `null`\n- If base_url is `http://127.0.0.1:8000`, cookie domain should be `127.0.0.1` or `null`\n- **localhost ‚â† 127.0.0.1** - They are different domains!\n- **If SESSION_DOMAIN is set to `.socia-dev.com`, cookies won't work with localhost!**\n- **Common Issue**: Response shows `domain=.socia-dev.com` but you're using `localhost:8000`\n  - **Fix**: Set `SESSION_DOMAIN=null` in `.env` for local development\n\n### Step 3b: CSRF Token Not Being Set\n- If XSRF-TOKEN cookie is not appearing:\n  - Try \"1b. Get CSRF Cookie (Sanctum)\" endpoint instead\n  - Check that backend CSRF middleware is enabled\n  - Verify SESSION_DOMAIN allows cookies for your domain\n  - Some endpoints may work without CSRF if session is valid\n\n### Step 4: Check Console Output\n- Open Postman Console: View > Show Postman Console\n- Look for:\n  - ‚úÖ 'Session cookie found' = Good\n  - ‚ùå 'No session cookie found' = Need to login OR environment misconfigured\n  - ‚ùå 'No Cookie header was sent' = Cookie settings issue\n\n### Step 5: Re-authenticate\n- Clear cookies: Click 'Cookies' link > Delete all cookies for your domain\n- Run sequence again: '1. Get CSRF Cookie' ‚Üí '2. Login' ‚Üí Protected endpoint\n\n## üìù Common Issues:\n- **Issue**: All routes return 'Unauthenticated' even after login\n  - **Fix**: Check `.env` - likely has staging settings. Use local settings above.\n- **Issue**: Cookies not being sent\n  - **Fix**: Enable cookies in Settings, restart Postman, verify `.env` settings\n- **Issue**: Domain mismatch (localhost vs 127.0.0.1)\n  - **Fix**: Use consistent domain in base_url variable, set `SESSION_DOMAIN=null`\n- **Issue**: Session cookie has wrong domain (e.g., `.socia-dev.com`)\n  - **Fix**: Set `SESSION_DOMAIN=null` in `.env` for localhost development\n- **Issue**: XSRF-TOKEN cookie not being set\n  - **Fix**: Try \"1b. Get CSRF Cookie (Sanctum)\" endpoint, or check backend CSRF middleware\n- **Issue**: CSRF token mismatch (419 error)\n  - **Fix**: Run CSRF cookie endpoint first, ensure token is extracted and sent in header\n- **Issue**: Session expired\n  - **Fix**: Re-run login endpoint\n- **Issue**: Cookies disabled\n  - **Fix**: Settings > General > Cookies > ON\n- **Issue**: Secure cookie error\n  - **Fix**: Set `SESSION_SECURE_COOKIE=null` or `false` for local development",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "14847074"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "1. Get CSRF Cookie",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Clear any existing CSRF token before fetching new one",
									"pm.collectionVariables.set('xsrf_token', '');"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"// CSRF cookie is automatically saved by Postman",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"// Extract and save XSRF token to COLLECTION variables only (NOT environment)",
									"const cookies = pm.cookies.all();",
									"const xsrfCookie = cookies.find(cookie => cookie.name === 'XSRF-TOKEN' || cookie.name === 'X-XSRF-TOKEN');",
									"if (xsrfCookie) {",
									"    const token = decodeURIComponent(xsrfCookie.value);",
									"    // Using pm.collectionVariables (NOT pm.environment) to keep token collection-scoped",
									"    pm.collectionVariables.set('xsrf_token', token);",
									"    console.log('‚úÖ CSRF token extracted and saved to collection variables:', token.substring(0, 20) + '...');",
									"} else {",
									"    console.log('‚ö†Ô∏è Warning: XSRF-TOKEN cookie not found in response');",
									"    console.log('Available cookies:', cookies.map(c => c.name).join(', ') || 'none');",
									"    console.log('');",
									"    console.log('üí° Note: If CSRF token is missing, try:');",
									"    console.log('   1. Check backend .env: SESSION_DOMAIN should be null for localhost');",
									"    console.log('   2. Try /sanctum/csrf-cookie endpoint instead');",
									"    console.log('   3. Some endpoints may work without CSRF if session is valid');",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/csrf-cookie",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"csrf-cookie"
							]
						},
						"description": "Get CSRF cookie for session-based authentication. This should be called before login. IMPORTANT: Make sure Postman's cookie handling is enabled (Settings > General > Cookies). Note: If XSRF-TOKEN cookie is not set, the backend may not be configured correctly for localhost."
					},
					"response": []
				},
				{
					"name": "2. Login",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Ensure CSRF token is available before login - using COLLECTION variables only",
									"// All variables are stored in collection (NOT environment) to avoid affecting other environments",
									"const xsrfToken = pm.collectionVariables.get('xsrf_token');",
									"const cookies = pm.cookies.all();",
									"const xsrfCookie = cookies.find(cookie => cookie.name === 'XSRF-TOKEN' || cookie.name === 'X-XSRF-TOKEN');",
									"",
									"// If token not in variable but cookie exists, extract it to COLLECTION variables",
									"if (!xsrfToken && xsrfCookie) {",
									"    const token = decodeURIComponent(xsrfCookie.value);",
									"    // Using pm.collectionVariables (NOT pm.environment) to keep token collection-scoped",
									"    pm.collectionVariables.set('xsrf_token', token);",
									"    console.log('‚úÖ CSRF token extracted from cookie and saved to collection variables');",
									"} else if (!xsrfToken && !xsrfCookie) {",
									"    console.log('‚ö†Ô∏è Warning: No CSRF token found.');",
									"    console.log('   The login may still work if backend allows it without CSRF.');",
									"    console.log('   Try running \"1. Get CSRF Cookie\" or \"1b. Get CSRF Cookie (Sanctum)\" first.');",
									"    console.log('   If CSRF cookie is not being set, check backend .env configuration.');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    pm.test(\"Login successful\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData.success).to.eql(true);",
									"        pm.expect(jsonData.data).to.have.property('id');",
									"        pm.expect(jsonData.data).to.have.property('email');",
									"    });",
									"} else if (pm.response.code === 419) {",
									"    console.log('‚ùå CSRF Token Mismatch (419)');",
									"    console.log('   The login endpoint requires a valid CSRF token.');",
									"    console.log('   Solution: Run \"1. Get CSRF Cookie\" or \"1b. Get CSRF Cookie (Sanctum)\" first.');",
									"    console.log('   Then check that XSRF-TOKEN cookie was set and extracted.');",
									"} else if (pm.response.code === 401) {",
									"    console.log('‚ùå Authentication Failed (401)');",
									"    console.log('   Check your credentials or backend configuration.');",
									"}",
									"",
									"// Save user data to COLLECTION variables only (NOT environment variables)",
									"// All authentication data is stored in collection variables to avoid affecting environment",
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data) {",
									"        // Using pm.collectionVariables (NOT pm.environment) to keep data collection-scoped",
									"        pm.collectionVariables.set('user_id', jsonData.data.id);",
									"        pm.collectionVariables.set('user_email', jsonData.data.email);",
									"        pm.collectionVariables.set('user_name', jsonData.data.name || '');",
									"    }",
									"    ",
									"    // Verify session cookie was set",
									"    const cookies = pm.cookies.all();",
									"    const sessionCookieName = pm.collectionVariables.get('session_cookie_name') || 'laravel_session';",
									"    const sessionCookie = cookies.find(cookie => {",
									"        const name = cookie.name || '';",
									"        return name === sessionCookieName || name.includes('session') || name.includes('laravel');",
									"    });",
									"    if (sessionCookie) {",
									"        console.log('‚úÖ Session cookie set successfully');",
									"        console.log('Cookie name: ' + sessionCookie.name);",
									"        console.log('Cookie domain: ' + (sessionCookie.domain || 'not set'));",
									"        // Update session cookie name in COLLECTION variables only (NOT environment)",
									"        if (sessionCookie.name !== sessionCookieName) {",
									"            // Using pm.collectionVariables (NOT pm.environment) to keep name collection-scoped",
									"            pm.collectionVariables.set('session_cookie_name', sessionCookie.name);",
									"        }",
									"    } else {",
									"        console.log('‚ö†Ô∏è Warning: No session cookie found. Check Postman cookie settings.');",
									"        console.log('Available cookies:', cookies.map(c => c.name).join(', ') || 'none');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "X-XSRF-TOKEN",
								"value": "{{xsrf_token}}",
								"description": "CSRF token from cookie (auto-populated if available, may be empty if CSRF cookie not set)",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"{{user_email}}\",\n    \"password\": \"{{user_password}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Login with email and password. Session cookie will be automatically saved by Postman."
					},
					"response": []
				},
				{
					"name": "3. Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Registration successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('id');",
									"    pm.expect(jsonData.data).to.have.property('email');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"John Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						},
						"description": "Register a new user account."
					},
					"response": []
				},
				{
					"name": "4. Get Current User (Protected)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Verify cookies before making request",
									"const cookies = pm.cookies.all();",
									"const sessionCookie = cookies.find(cookie => cookie.name && (cookie.name.includes('session') || cookie.name.includes('laravel')));",
									"if (!sessionCookie) {",
									"    console.log('‚ö†Ô∏è WARNING: No session cookie found before request');",
									"    console.log('   This request will likely fail with 401 Unauthenticated');",
									"    console.log('   Please run \"1. Get CSRF Cookie\" then \"2. Login\" first');",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    pm.test(\"User data returned\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData.success).to.eql(true);",
									"        pm.expect(jsonData.data).to.have.property('id');",
									"        pm.expect(jsonData.data).to.have.property('email');",
									"        pm.expect(jsonData.data).to.have.property('roles');",
									"        pm.expect(jsonData.data).to.have.property('permissions');",
									"    });",
									"} else if (pm.response.code === 401) {",
									"    // Show diagnostic info for auth failure",
									"    const requestHeaders = pm.request.headers.toObject();",
									"    const cookieHeader = requestHeaders['Cookie'] || requestHeaders['cookie'];",
									"    console.log('‚ùå Authentication failed');",
									"    console.log('Cookie header sent:', cookieHeader ? 'Yes' : 'No');",
									"    if (cookieHeader) {",
									"        console.log('Cookie value:', cookieHeader.substring(0, 50) + '...');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/user",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"user"
							]
						},
						"description": "Get current authenticated user information with roles and permissions. Requires authentication."
					},
					"response": []
				},
				{
					"name": "5. Refresh Session",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Session refreshed\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"refresh"
							]
						},
						"description": "Refresh the current session. Regenerates session ID for security."
					},
					"response": []
				},
				{
					"name": "6. Logout",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Logout successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						},
						"description": "Logout the current user. Requires authentication."
					},
					"response": []
				},
				{
					"name": "7. Verify Email",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 or 403\", function () {",
									"    pm.expect([200, 403]).to.include(pm.response.code);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    pm.test(\"Email verified successfully\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData.success).to.eql(true);",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/verify-email/:id?hash=:hash&expires=:expires&signature=:signature",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"verify-email",
								":id"
							],
							"query": [
								{
									"key": "hash",
									"value": ":hash",
									"description": "Email hash from verification link"
								},
								{
									"key": "expires",
									"value": ":expires",
									"description": "Expiration timestamp"
								},
								{
									"key": "signature",
									"value": ":signature",
									"description": "URL signature"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Verify user email using signed URL from verification email. The URL should be used as-is from the email."
					},
					"response": []
				},
				{
					"name": "8. Forgot Password",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Password reset email sent\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"{{user_email}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/forgot-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"forgot-password"
							]
						},
						"description": "Request password reset email. Always returns success for security (doesn't reveal if email exists)."
					},
					"response": []
				},
				{
					"name": "9. Reset Password",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 or 400\", function () {",
									"    pm.expect([200, 400]).to.include(pm.response.code);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    pm.test(\"Password reset successful\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData.success).to.eql(true);",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"{{user_email}}\",\n    \"token\": \"reset_token_from_email\",\n    \"password\": \"newpassword123\",\n    \"password_confirmation\": \"newpassword123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/auth/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"reset-password"
							]
						},
						"description": "Reset password using token from forgot password email. Token expires after 60 minutes."
					},
					"response": []
				},
				{
					"name": "10. Resend Verification Email (Protected)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Verification email sent\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/resend-verification-email",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"resend-verification-email"
							]
						},
						"description": "Resend email verification link to authenticated user. Requires authentication."
					},
					"response": []
				},
				{
					"name": "11. Change Password (Protected)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 or 400\", function () {",
									"    pm.expect([200, 400]).to.include(pm.response.code);",
									"});",
									"",
									"if (pm.response.code === 200) {",
									"    pm.test(\"Password changed successfully\", function () {",
									"        var jsonData = pm.response.json();",
									"        pm.expect(jsonData.success).to.eql(true);",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"current_password\": \"{{user_password}}\",\n    \"password\": \"newpassword123\",\n    \"password_confirmation\": \"newpassword123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/change-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"change-password"
							]
						},
						"description": "Change password for authenticated user. Requires authentication and current password."
					},
					"response": []
				}
			],
			"description": "Authentication endpoints for login, register, and user management"
		},
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Health Check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"health"
							]
						},
						"description": "Check API health status. Public endpoint, no authentication required."
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "List Users",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Get list of all users. Requires 'users.view' permission."
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Get a specific user by ID. Requires 'users.view' permission."
					},
					"response": []
				},
				{
					"name": "Create User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"User created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"New User\",\n    \"email\": \"newuser@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Create a new user. Requires 'users.create' permission."
					},
					"response": []
				},
				{
					"name": "Update User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated User Name\",\n    \"email\": \"updated@example.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/users/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Update a user. Requires 'users.update' permission."
					},
					"response": []
				},
				{
					"name": "Delete User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/users/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Delete a user. Requires 'users.delete' permission."
					},
					"response": []
				},
				{
					"name": "Assign Roles to User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"roles\": [1, 2]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/users/:id/roles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								":id",
								"roles"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "User ID"
								}
							]
						},
						"description": "Assign roles to a user. Requires 'users.update' permission."
					},
					"response": []
				}
			],
			"description": "User management endpoints. All require authentication and appropriate permissions."
		},
		{
			"name": "Roles",
			"item": [
				{
					"name": "List Roles",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/roles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"roles"
							]
						},
						"description": "Get list of all roles. Requires 'users.view' permission."
					},
					"response": []
				}
			],
			"description": "Role management endpoints. Requires authentication and appropriate permissions."
		},
		{
			"name": "HRIS",
			"item": [
				{
					"name": "HRIS Index",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/hris",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"hris"
							]
						},
						"description": "Get HRIS index. Requires 'hris.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Employees",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/hris/employees",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"hris",
								"employees"
							]
						},
						"description": "Get list of employees. Requires 'hris.view' permission."
					},
					"response": []
				}
			],
			"description": "HRIS endpoints. All require authentication and 'hris.view' permission."
		},
		{
			"name": "Employees",
			"item": [
				{
					"name": "List Employees",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('employees');",
									"    pm.expect(jsonData.data).to.have.property('pagination');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/employees?per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"employees"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Number of items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								},
								{
									"key": "department",
									"value": "",
									"description": "Filter by department (optional)",
									"disabled": true
								},
								{
									"key": "position",
									"value": "",
									"description": "Filter by position (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all employees with pagination. Requires 'hris.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Employee by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Employee data returned\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('id');",
									"    pm.expect(jsonData.data).to.have.property('email');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/employees/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"employees",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Employee ID"
								}
							]
						},
						"description": "Get a specific employee by ID. Requires 'hris.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Employee",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Employee created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('id');",
									"    pm.expect(jsonData.data).to.have.property('email');",
									"});",
									"",
									"// Save employee ID to COLLECTION variables only (NOT environment)",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        // Using pm.collectionVariables (NOT pm.environment) to keep ID collection-scoped",
									"        pm.collectionVariables.set('employee_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"Juan\",\n    \"middleName\": \"Dela\",\n    \"lastName\": \"Cruz\",\n    \"email\": \"juan.cruz@example.com\",\n    \"phone\": \"+63 912 345 6789\",\n    \"birthDate\": \"1990-01-15\",\n    \"gender\": \"male\",\n    \"civilStatus\": \"single\",\n    \"streetAddress\": \"123 Main Street\",\n    \"city\": \"Manila\",\n    \"province\": \"Metro Manila\",\n    \"zipCode\": \"1000\",\n    \"sssNumber\": \"12-3456789-0\",\n    \"tin\": \"123-456-789-000\",\n    \"philHealthNumber\": \"12-345678901-2\",\n    \"pagIbigNumber\": \"1234-5678-9012\",\n    \"department\": \"IT\",\n    \"position\": \"Software Engineer\",\n    \"employmentType\": \"Full-time\",\n    \"startDate\": \"2024-01-01\",\n    \"monthlySalary\": \"50000.00\",\n    \"emergencyContactName\": \"Maria Cruz\",\n    \"emergencyContactPhone\": \"+63 912 345 6780\",\n    \"emergencyContactRelationship\": \"Mother\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/employees",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"employees"
							]
						},
						"description": "Create a new employee. Requires 'hris.create' permission. Accepts camelCase field names which are automatically converted to snake_case."
					},
					"response": []
				},
				{
					"name": "Update Employee",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Employee updated successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"firstName\": \"Juan\",\n    \"middleName\": \"Dela\",\n    \"lastName\": \"Cruz\",\n    \"email\": \"juan.cruz.updated@example.com\",\n    \"phone\": \"+63 912 345 6789\",\n    \"birthDate\": \"1990-01-15\",\n    \"gender\": \"male\",\n    \"civilStatus\": \"married\",\n    \"streetAddress\": \"123 Main Street\",\n    \"city\": \"Manila\",\n    \"province\": \"Metro Manila\",\n    \"zipCode\": \"1000\",\n    \"sssNumber\": \"12-3456789-0\",\n    \"tin\": \"123-456-789-000\",\n    \"philHealthNumber\": \"12-345678901-2\",\n    \"pagIbigNumber\": \"1234-5678-9012\",\n    \"department\": \"IT\",\n    \"position\": \"Senior Software Engineer\",\n    \"employmentType\": \"Full-time\",\n    \"startDate\": \"2024-01-01\",\n    \"monthlySalary\": \"60000.00\",\n    \"emergencyContactName\": \"Maria Cruz\",\n    \"emergencyContactPhone\": \"+63 912 345 6780\",\n    \"emergencyContactRelationship\": \"Mother\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/employees/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"employees",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{employee_id}}",
									"description": "Employee ID"
								}
							]
						},
						"description": "Update an employee. Requires 'hris.update' permission. Accepts camelCase field names."
					},
					"response": []
				},
				{
					"name": "Delete Employee",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Employee deleted successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/employees/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"employees",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{employee_id}}",
									"description": "Employee ID"
								}
							]
						},
						"description": "Delete an employee. Requires 'hris.delete' permission."
					},
					"response": []
				}
			],
			"description": "Employee management endpoints. All require authentication and appropriate HRIS permissions."
		},
		{
			"name": "Departments",
			"item": [
				{
					"name": "List Departments",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/departments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"departments"
							]
						},
						"description": "Get list of all departments. Requires 'hris.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Department by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/departments/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"departments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Department ID"
								}
							]
						},
						"description": "Get a specific department by ID. Requires 'hris.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Department",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Department created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"// Save department ID to COLLECTION variables only (NOT environment)",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        // Using pm.collectionVariables (NOT pm.environment) to keep ID collection-scoped",
									"        pm.collectionVariables.set('department_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Information Technology\",\n    \"description\": \"IT Department\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/departments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"departments"
							]
						},
						"description": "Create a new department. Requires 'hris.create' permission."
					},
					"response": []
				},
				{
					"name": "Update Department",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Department Name\",\n    \"description\": \"Updated description\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/departments/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"departments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{department_id}}",
									"description": "Department ID (use {{department_id}} from created department)"
								}
							]
						},
						"description": "Update a department. Requires 'hris.update' permission. Uses {{department_id}} variable from created department."
					},
					"response": []
				},
				{
					"name": "Delete Department",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/departments/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"departments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{department_id}}",
									"description": "Department ID (use {{department_id}} from created department)"
								}
							]
						},
						"description": "Delete a department. Requires 'hris.delete' permission. Uses {{department_id}} variable from created department."
					},
					"response": []
				}
			],
			"description": "Department management endpoints. All require authentication and appropriate HRIS permissions."
		},
		{
			"name": "Positions",
			"item": [
				{
					"name": "List Positions",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/positions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"positions"
							]
						},
						"description": "Get list of all positions. Requires 'hris.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Position by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/positions/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"positions",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Position ID"
								}
							]
						},
						"description": "Get a specific position by ID. Requires 'hris.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Position",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Position created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"// Save position ID to COLLECTION variables only (NOT environment)",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        // Using pm.collectionVariables (NOT pm.environment) to keep ID collection-scoped",
									"        pm.collectionVariables.set('position_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Software Engineer\",\n    \"description\": \"Develops and maintains software applications\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/positions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"positions"
							]
						},
						"description": "Create a new position. Requires 'hris.create' permission."
					},
					"response": []
				},
				{
					"name": "Update Position",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Senior Software Engineer\",\n    \"description\": \"Updated description\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/positions/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"positions",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{position_id}}",
									"description": "Position ID (use {{position_id}} from created position)"
								}
							]
						},
						"description": "Update a position. Requires 'hris.update' permission. Uses {{position_id}} variable from created position."
					},
					"response": []
				},
				{
					"name": "Delete Position",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/positions/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"positions",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{position_id}}",
									"description": "Position ID (use {{position_id}} from created position)"
								}
							]
						},
						"description": "Delete a position. Requires 'hris.delete' permission. Uses {{position_id}} variable from created position."
					},
					"response": []
				}
			],
			"description": "Position management endpoints. All require authentication and appropriate HRIS permissions."
		},
		{
			"name": "Accounts",
			"item": [
				{
					"name": "List Accounts",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('accounts');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts?per_page=100",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"accounts"
							],
							"query": [
								{
									"key": "per_page",
									"value": "100",
									"description": "Number of items per page"
								},
								{
									"key": "account_type",
									"value": "",
									"description": "Filter by account type (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all accounts (Chart of Accounts). Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Account by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"accounts",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Account ID"
								}
							]
						},
						"description": "Get a specific account by ID. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Account created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set('account_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"account_type\": \"Asset\",\n    \"code\": \"1001\",\n    \"account_name\": \"Cash\",\n    \"debit\": \"0.00\",\n    \"credit\": \"0.00\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/accounts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"accounts"
							]
						},
						"description": "Create a new account. Requires 'finance.create' permission. Account types: Asset, Liability, Equity, Revenue, Expense."
					},
					"response": []
				},
				{
					"name": "Update Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"account_type\": \"Asset\",\n    \"code\": \"1001\",\n    \"account_name\": \"Cash - Updated\",\n    \"debit\": \"1000.00\",\n    \"credit\": \"0.00\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/accounts/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"accounts",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{account_id}}",
									"description": "Account ID"
								}
							]
						},
						"description": "Update an account. Requires 'finance.update' permission."
					},
					"response": []
				},
				{
					"name": "Delete Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/accounts/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"accounts",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{account_id}}",
									"description": "Account ID"
								}
							]
						},
						"description": "Delete an account. Requires 'finance.delete' permission."
					},
					"response": []
				}
			],
			"description": "Account management endpoints (Chart of Accounts). All require authentication and 'finance.view' permission."
		},
		{
			"name": "Journal Entries",
			"item": [
				{
					"name": "List Journal Entries",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('journal_entries');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/journal-entries?per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"journal-entries"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Number of items per page"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: Draft, Posted (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all journal entries with pagination. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Journal Entry by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/journal-entries/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"journal-entries",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Journal Entry ID"
								}
							]
						},
						"description": "Get a specific journal entry by ID. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Journal Entry",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Journal entry created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set('journal_entry_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"date\": \"2024-12-01\",\n    \"reference_number\": \"JE-2024-001\",\n    \"description\": \"Initial capital investment\",\n    \"debit_account_id\": 1,\n    \"credit_account_id\": 2,\n    \"amount\": \"100000.00\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/journal-entries",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"journal-entries"
							]
						},
						"description": "Create a new journal entry. Requires 'finance.create' permission. Debit and credit accounts must be different."
					},
					"response": []
				},
				{
					"name": "Update Journal Entry",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"date\": \"2024-12-01\",\n    \"reference_number\": \"JE-2024-001\",\n    \"description\": \"Updated description\",\n    \"debit_account_id\": 1,\n    \"credit_account_id\": 2,\n    \"amount\": \"150000.00\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/journal-entries/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"journal-entries",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{journal_entry_id}}",
									"description": "Journal Entry ID"
								}
							]
						},
						"description": "Update a journal entry. Requires 'finance.update' permission. Cannot update posted entries."
					},
					"response": []
				},
				{
					"name": "Delete Journal Entry",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/journal-entries/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"journal-entries",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{journal_entry_id}}",
									"description": "Journal Entry ID"
								}
							]
						},
						"description": "Delete a journal entry. Requires 'finance.delete' permission. Cannot delete posted entries."
					},
					"response": []
				},
				{
					"name": "Post Journal Entry",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Journal entry posted successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/journal-entries/:id/post",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"journal-entries",
								":id",
								"post"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{journal_entry_id}}",
									"description": "Journal Entry ID"
								}
							]
						},
						"description": "Post a journal entry (change status from Draft to Posted). Requires 'finance.update' permission. Updates account balances."
					},
					"response": []
				}
			],
			"description": "Journal Entry management endpoints. All require authentication and appropriate finance permissions."
		},
		{
			"name": "Budgets",
			"item": [
				{
					"name": "List Budgets",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('budgets');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budgets?per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Number of items per page"
								},
								{
									"key": "period",
									"value": "",
									"description": "Filter by period: Monthly, Quarterly, Annual (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all budgets with pagination. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Budget by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budgets/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Budget ID"
								}
							]
						},
						"description": "Get a specific budget by ID. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Budget",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Budget created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set('budget_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"category\": \"Marketing\",\n    \"budgeted_amount\": \"50000.00\",\n    \"period\": \"Monthly\",\n    \"description\": \"Monthly marketing budget\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/budgets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets"
							]
						},
						"description": "Create a new budget. Requires 'finance.create' permission. Period options: Monthly, Quarterly, Annual. Category can be custom."
					},
					"response": []
				},
				{
					"name": "Update Budget",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"category\": \"Marketing\",\n    \"budgeted_amount\": \"60000.00\",\n    \"period\": \"Monthly\",\n    \"description\": \"Updated monthly marketing budget\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/budgets/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{budget_id}}",
									"description": "Budget ID"
								}
							]
						},
						"description": "Update a budget. Requires 'finance.update' permission."
					},
					"response": []
				},
				{
					"name": "Delete Budget",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/budgets/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"budgets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{budget_id}}",
									"description": "Budget ID"
								}
							]
						},
						"description": "Delete a budget. Requires 'finance.delete' permission."
					},
					"response": []
				}
			],
			"description": "Budget management endpoints. All require authentication and appropriate finance permissions."
		},
		{
			"name": "Vendors",
			"item": [
				{
					"name": "List Vendors",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('vendors');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/vendors?per_page=100",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"vendors"
							],
							"query": [
								{
									"key": "per_page",
									"value": "100",
									"description": "Number of items per page"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: Active, Inactive (optional)",
									"disabled": true
								},
								{
									"key": "category",
									"value": "",
									"description": "Filter by category (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all vendors with pagination. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Vendor by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/vendors/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"vendors",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Vendor ID"
								}
							]
						},
						"description": "Get a specific vendor by ID. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Vendor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Vendor created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set('vendor_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_name\": \"ABC Corporation\",\n    \"contact_person\": \"John Doe\",\n    \"category\": \"Electronics\",\n    \"email\": \"contact@abc.com\",\n    \"phone\": \"+63 917 123 4567\",\n    \"address\": \"123 Main St, Manila\",\n    \"tin\": \"123-456-789-000\",\n    \"payment_terms\": \"Net 30\",\n    \"status\": \"Active\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/vendors",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"vendors"
							]
						},
						"description": "Create a new vendor. Requires 'finance.create' permission. Category can be 'Other' with custom value. Payment terms can be 'Custom' with custom value."
					},
					"response": []
				},
				{
					"name": "Update Vendor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company_name\": \"ABC Corporation Updated\",\n    \"contact_person\": \"Jane Doe\",\n    \"category\": \"Electronics\",\n    \"email\": \"contact@abc.com\",\n    \"phone\": \"+63 917 123 4567\",\n    \"address\": \"123 Main St, Manila\",\n    \"tin\": \"123-456-789-000\",\n    \"payment_terms\": \"Net 45\",\n    \"status\": \"Active\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/vendors/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"vendors",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{vendor_id}}",
									"description": "Vendor ID"
								}
							]
						},
						"description": "Update a vendor. Requires 'finance.update' permission."
					},
					"response": []
				},
				{
					"name": "Delete Vendor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/vendors/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"vendors",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{vendor_id}}",
									"description": "Vendor ID"
								}
							]
						},
						"description": "Delete a vendor. Requires 'finance.delete' permission."
					},
					"response": []
				}
			],
			"description": "Vendor management endpoints. All require authentication and appropriate finance permissions."
		},
		{
			"name": "Invoices (Accounts Payable)",
			"item": [
				{
					"name": "List Invoices",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('invoices');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices?per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Number of items per page"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: Pending, Approved, Paid, Overdue (optional)",
									"disabled": true
								},
								{
									"key": "vendor_id",
									"value": "",
									"description": "Filter by vendor ID (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all invoices (Accounts Payable) with pagination. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Invoice by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Invoice ID"
								}
							]
						},
						"description": "Get a specific invoice by ID. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Invoice created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set('invoice_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invoice_number\": \"INV-2024-001\",\n    \"vendor_id\": 1,\n    \"description\": \"Office supplies purchase\",\n    \"invoice_date\": \"2024-12-01\",\n    \"due_date\": \"2024-12-31\",\n    \"amount\": \"50000.00\",\n    \"category\": \"Office Supplies\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/invoices",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices"
							]
						},
						"description": "Create a new invoice (Accounts Payable). Requires 'finance.create' permission. Category can be 'Other' with custom value. Updates vendor totals automatically."
					},
					"response": []
				},
				{
					"name": "Update Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invoice_number\": \"INV-2024-001\",\n    \"vendor_id\": 1,\n    \"description\": \"Updated description\",\n    \"invoice_date\": \"2024-12-01\",\n    \"due_date\": \"2024-12-31\",\n    \"amount\": \"60000.00\",\n    \"category\": \"Office Supplies\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/invoices/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{invoice_id}}",
									"description": "Invoice ID"
								}
							]
						},
						"description": "Update an invoice. Requires 'finance.update' permission. Updates vendor totals automatically."
					},
					"response": []
				},
				{
					"name": "Delete Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{invoice_id}}",
									"description": "Invoice ID"
								}
							]
						},
						"description": "Delete an invoice. Requires 'finance.delete' permission. Updates vendor totals automatically."
					},
					"response": []
				},
				{
					"name": "Approve Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Invoice approved successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/:id/approve",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								":id",
								"approve"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{invoice_id}}",
									"description": "Invoice ID"
								}
							]
						},
						"description": "Approve an invoice (change status from Pending to Approved). Requires 'finance.update' permission."
					},
					"response": []
				},
				{
					"name": "Pay Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Invoice paid successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/invoices/:id/pay",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"invoices",
								":id",
								"pay"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{invoice_id}}",
									"description": "Invoice ID"
								}
							]
						},
						"description": "Mark an invoice as paid (change status to Paid). Requires 'finance.update' permission. Updates vendor outstanding balance."
					},
					"response": []
				}
			],
			"description": "Invoice management endpoints (Accounts Payable). All require authentication and appropriate finance permissions."
		},
		{
			"name": "Customers",
			"item": [
				{
					"name": "List Customers",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('customers');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customers?per_page=100",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers"
							],
							"query": [
								{
									"key": "per_page",
									"value": "100",
									"description": "Number of items per page"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: Active, Inactive (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all customers with pagination. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Customer by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customers/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Customer ID"
								}
							]
						},
						"description": "Get a specific customer by ID. Requires 'finance.view' permission."
					},
					"response": []
				}
			],
			"description": "Customer management endpoints. All require authentication and 'finance.view' permission."
		},
		{
			"name": "Receivable Invoices",
			"item": [
				{
					"name": "List Receivable Invoices",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('receivable_invoices');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/receivable-invoices?per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"receivable-invoices"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Number of items per page"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: Pending, Paid, Overdue, Partial (optional)",
									"disabled": true
								},
								{
									"key": "customer_id",
									"value": "",
									"description": "Filter by customer ID (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all receivable invoices (Accounts Receivable) with pagination. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Receivable Invoice by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/receivable-invoices/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"receivable-invoices",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Receivable Invoice ID"
								}
							]
						},
						"description": "Get a specific receivable invoice by ID. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Receivable Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Receivable invoice created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set('receivable_invoice_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invoice_number\": \"INV-REC-2024-001\",\n    \"customer_id\": 1,\n    \"description\": \"Software licensing services\",\n    \"invoice_date\": \"2024-12-01\",\n    \"due_date\": \"2024-12-31\",\n    \"amount\": \"100000.00\",\n    \"payment_terms\": \"Net 30\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/receivable-invoices",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"receivable-invoices"
							]
						},
						"description": "Create a new receivable invoice (Accounts Receivable). Requires 'finance.create' permission. Payment terms can be 'Custom' with custom value. Updates customer totals automatically."
					},
					"response": []
				},
				{
					"name": "Update Receivable Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invoice_number\": \"INV-REC-2024-001\",\n    \"customer_id\": 1,\n    \"description\": \"Updated description\",\n    \"invoice_date\": \"2024-12-01\",\n    \"due_date\": \"2024-12-31\",\n    \"amount\": \"120000.00\",\n    \"payment_terms\": \"Net 30\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/receivable-invoices/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"receivable-invoices",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{receivable_invoice_id}}",
									"description": "Receivable Invoice ID"
								}
							]
						},
						"description": "Update a receivable invoice. Requires 'finance.update' permission. Updates customer totals automatically."
					},
					"response": []
				},
				{
					"name": "Delete Receivable Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/receivable-invoices/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"receivable-invoices",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{receivable_invoice_id}}",
									"description": "Receivable Invoice ID"
								}
							]
						},
						"description": "Delete a receivable invoice. Requires 'finance.delete' permission. Updates customer totals automatically."
					},
					"response": []
				}
			],
			"description": "Receivable Invoice management endpoints (Accounts Receivable). All require authentication and appropriate finance permissions."
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Record Payment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Payment recorded successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"receivable_invoice_id\": 1,\n    \"amount\": \"50000.00\",\n    \"payment_date\": \"2024-12-15\",\n    \"payment_method\": \"Bank Transfer\",\n    \"notes\": \"Partial payment\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments"
							]
						},
						"description": "Record a payment for a receivable invoice. Requires 'finance.create' permission. Updates invoice balance and status automatically. Updates customer totals."
					},
					"response": []
				},
				{
					"name": "Get Payments by Invoice",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('payments');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/invoice/:invoiceId",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"invoice",
								":invoiceId"
							],
							"variable": [
								{
									"key": "invoiceId",
									"value": "{{receivable_invoice_id}}",
									"description": "Receivable Invoice ID"
								}
							]
						},
						"description": "Get all payments for a specific receivable invoice. Requires 'finance.view' permission."
					},
					"response": []
				}
			],
			"description": "Payment management endpoints for receivable invoices. All require authentication and appropriate finance permissions."
		},
		{
			"name": "Purchase Orders",
			"item": [
				{
					"name": "List Purchase Orders",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.data).to.have.property('purchase_orders');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/purchase-orders?per_page=15",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"purchase-orders"
							],
							"query": [
								{
									"key": "per_page",
									"value": "15",
									"description": "Number of items per page"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: pending, approved, ordered, received (optional)",
									"disabled": true
								},
								{
									"key": "vendor_id",
									"value": "",
									"description": "Filter by vendor ID (optional)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term (optional)",
									"disabled": true
								}
							]
						},
						"description": "Get list of all purchase orders with pagination. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Get Purchase Order by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/purchase-orders/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"purchase-orders",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Purchase Order ID"
								}
							]
						},
						"description": "Get a specific purchase order by ID. Requires 'finance.view' permission."
					},
					"response": []
				},
				{
					"name": "Create Purchase Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Purchase order created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});",
									"",
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set('purchase_order_id', jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"po_number\": \"PO-2024-001\",\n    \"vendor_id\": 1,\n    \"vendor_name\": \"ABC Corporation\",\n    \"requested_by\": \"John Doe\",\n    \"order_date\": \"2024-12-01\",\n    \"expected_delivery\": \"2024-12-15\",\n    \"status\": \"pending\",\n    \"notes\": \"Urgent order\",\n    \"items\": [\n        {\n            \"product_name\": \"Laptop\",\n            \"quantity\": 5,\n            \"unit_price\": \"50000.00\"\n        },\n        {\n            \"product_name\": \"Mouse\",\n            \"quantity\": 10,\n            \"unit_price\": \"500.00\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/purchase-orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"purchase-orders"
							]
						},
						"description": "Create a new purchase order. Requires 'finance.create' permission. PO number is optional (auto-generated if not provided). Items array is required with at least one item."
					},
					"response": []
				},
				{
					"name": "Update Purchase Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"po_number\": \"PO-2024-001\",\n    \"vendor_id\": 1,\n    \"vendor_name\": \"ABC Corporation\",\n    \"requested_by\": \"Jane Doe\",\n    \"order_date\": \"2024-12-01\",\n    \"expected_delivery\": \"2024-12-20\",\n    \"status\": \"pending\",\n    \"notes\": \"Updated notes\",\n    \"items\": [\n        {\n            \"product_name\": \"Laptop\",\n            \"quantity\": 6,\n            \"unit_price\": \"50000.00\"\n        },\n        {\n            \"product_name\": \"Mouse\",\n            \"quantity\": 12,\n            \"unit_price\": \"500.00\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/purchase-orders/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"purchase-orders",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{purchase_order_id}}",
									"description": "Purchase Order ID"
								}
							]
						},
						"description": "Update a purchase order. Requires 'finance.update' permission."
					},
					"response": []
				},
				{
					"name": "Update Purchase Order Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Purchase order status updated successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"approved\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/purchase-orders/:id/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"purchase-orders",
								":id",
								"status"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{purchase_order_id}}",
									"description": "Purchase Order ID"
								}
							]
						},
						"description": "Update purchase order status. Requires 'finance.update' permission. Status options: pending, approved, ordered, received."
					},
					"response": []
				},
				{
					"name": "Delete Purchase Order",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/purchase-orders/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"purchase-orders",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{purchase_order_id}}",
									"description": "Purchase Order ID"
								}
							]
						},
						"description": "Delete a purchase order. Requires 'finance.delete' permission."
					},
					"response": []
				}
			],
			"description": "Purchase Order management endpoints. All require authentication and appropriate finance permissions."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global pre-request script",
					"// This runs before every request",
					"",
					"// IMPORTANT: All variables use COLLECTION variables only (NOT environment variables)",
					"// This ensures authentication data doesn't affect environment-specific settings",
					"",
					"// Extract XSRF token from cookies if available - save to COLLECTION variables only",
					"const cookies = pm.cookies.all();",
					"const xsrfCookie = cookies.find(cookie => cookie.name === 'XSRF-TOKEN' || cookie.name === 'X-XSRF-TOKEN');",
					"if (xsrfCookie) {",
					"    const token = decodeURIComponent(xsrfCookie.value);",
					"    // Using pm.collectionVariables (NOT pm.environment) to keep token collection-scoped",
					"    pm.collectionVariables.set('xsrf_token', token);",
					"}",
					"",
					"// Automatically add XSRF token header to state-changing requests",
					"// Using COLLECTION variables only (NOT environment variables)",
					"const method = pm.request.method.toUpperCase();",
					"const stateChangingMethods = ['POST', 'PUT', 'PATCH', 'DELETE'];",
					"if (stateChangingMethods.includes(method)) {",
					"    // Get token from COLLECTION variables (NOT environment)",
					"    let xsrfToken = pm.collectionVariables.get('xsrf_token');",
					"    ",
					"    // Try to get from cookie if not in variable - save to COLLECTION variables",
					"    if (!xsrfToken) {",
					"        const xsrfCookie = cookies.find(cookie => cookie.name === 'XSRF-TOKEN' || cookie.name === 'X-XSRF-TOKEN');",
					"        if (xsrfCookie) {",
					"            xsrfToken = decodeURIComponent(xsrfCookie.value);",
					"            // Using pm.collectionVariables (NOT pm.environment) to keep token collection-scoped",
					"            pm.collectionVariables.set('xsrf_token', xsrfToken);",
					"        }",
					"    }",
					"    ",
					"    if (xsrfToken) {",
					"        // Check if header already exists",
					"        const existingHeader = pm.request.headers.get('X-XSRF-TOKEN');",
					"        if (!existingHeader) {",
					"            pm.request.headers.add({",
					"                key: 'X-XSRF-TOKEN',",
					"                value: xsrfToken",
					"            });",
					"        }",
					"    } else {",
					"        // Log warning but don't fail - some endpoints might work without CSRF",
					"        const isAuthEndpoint = pm.request.url.toString().includes('/api/auth/login') || ",
					"                                 pm.request.url.toString().includes('/api/auth/register');",
					"        if (!isAuthEndpoint) {",
					"            console.log('‚ö†Ô∏è No CSRF token available for ' + method + ' request');",
					"            console.log('   Request may fail with 419 if CSRF is required.');",
					"        }",
					"    }",
					"}",
					"",
					"// Log authentication status for debugging",
					"// Using COLLECTION variables only (NOT environment variables)",
					"const sessionCookieName = pm.collectionVariables.get('session_cookie_name') || 'laravel_session';",
					"const sessionCookie = cookies.find(cookie => {",
					"    const name = cookie.name || '';",
					"    return name === sessionCookieName || name.includes('session') || name.includes('laravel');",
					"});",
					"const isProtectedEndpoint = pm.request.url.toString().includes('/api/') && ",
					"    !pm.request.url.toString().includes('/api/auth/login') && ",
					"    !pm.request.url.toString().includes('/api/auth/register') && ",
					"    !pm.request.url.toString().includes('/api/auth/forgot-password') && ",
					"    !pm.request.url.toString().includes('/api/auth/reset-password') && ",
					"    !pm.request.url.toString().includes('/api/auth/verify-email') && ",
					"    !pm.request.url.toString().includes('/api/health') && ",
					"    !pm.request.url.toString().includes('/csrf-cookie');",
					"",
					"if (isProtectedEndpoint) {",
					"    if (sessionCookie) {",
					"        console.log('‚úÖ Session cookie found:', sessionCookie.name);",
					"        console.log('   Domain:', sessionCookie.domain || 'not set');",
					"        console.log('   Path:', sessionCookie.path || '/');",
					"    } else {",
					"        console.log('‚ùå WARNING: No session cookie found for protected endpoint!');",
					"        console.log('   Available cookies:', cookies.map(c => c.name).join(', ') || 'none');",
					"        console.log('   üí° Solution: Run \"1. Get CSRF Cookie\" then \"2. Login\" first');",
					"        console.log('   üí° Check: Postman Settings > General > Cookies (must be ON)');",
					"    }",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global test script",
					"// This runs after every request",
					"",
					"// Check for authentication errors and provide helpful feedback",
					"if (pm.response.code === 401) {",
					"    const responseJson = pm.response.json();",
					"    if (responseJson && responseJson.message === 'Unauthenticated.') {",
					"        console.log('‚ùå Authentication Error: Unauthenticated');",
					"        ",
					"        // Check if cookies were sent",
					"        const requestHeaders = pm.request.headers.toObject();",
					"        const cookieHeader = requestHeaders['Cookie'] || requestHeaders['cookie'];",
					"        ",
					"        if (!cookieHeader) {",
					"            console.log('‚ùå No Cookie header was sent with the request!');",
					"            console.log('');",
					"            console.log('üí° Solutions:');",
					"            console.log('   1. Enable cookies: Settings (gear) > General > Cookies > ON');",
					"            console.log('   2. Check Cookies tab: Click \"Cookies\" link at bottom of Postman');",
					"            console.log('   3. Verify domain: Cookie domain must match base_url exactly');",
					"            console.log('   4. Re-authenticate: Run \"1. Get CSRF Cookie\" then \"2. Login\"');",
					"        } else {",
					"            console.log('‚ö†Ô∏è Cookie header was sent but authentication failed');",
					"            console.log('   Cookie header:', cookieHeader.substring(0, 100) + '...');",
					"            console.log('');",
					"            console.log('üí° Possible issues:');",
					"            console.log('   1. Session expired - try logging in again');",
					"            console.log('   2. Wrong domain - check cookie domain matches base_url');",
					"            console.log('   3. Cookie not valid - check backend session configuration');",
					"        }",
					"        ",
					"        // Show available cookies and check for domain issues",
					"        // Using COLLECTION variables only (NOT environment variables)",
					"        const allCookies = pm.cookies.all();",
					"        console.log('');",
					"        console.log('üìã Available cookies in Postman:', allCookies.length);",
					"        const baseUrl = pm.collectionVariables.get('base_url') || '';",
					"        const urlHost = baseUrl.replace(/^https?:\\/\\//, '').split(':')[0];",
					"        allCookies.forEach(cookie => {",
					"            const cookieDomain = cookie.domain || 'not set';",
					"            const domainMatch = !cookieDomain || cookieDomain === urlHost || cookieDomain === 'localhost' || cookieDomain === '127.0.0.1';",
					"            const status = domainMatch ? '‚úÖ' : '‚ùå';",
					"            console.log('   ' + status + ' ' + cookie.name + ' (domain: ' + cookieDomain + ')');",
					"            if (!domainMatch && cookieDomain.includes('socia-dev.com')) {",
					"                console.log('      ‚ö†Ô∏è Domain mismatch! Cookie domain is ' + cookieDomain + ' but base_url is ' + urlHost);",
					"                console.log('      üí° Fix: Set SESSION_DOMAIN=null in backend .env file');",
					"            }",
					"        });",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string",
			"description": {
				"content": "Base URL for the API server",
				"type": "text/plain"
			}
		},
		{
			"key": "rzerp",
			"value": "rzerp",
			"type": "string",
			"description": {
				"content": "RZERP application identifier",
				"type": "text/plain"
			}
		},
		{
			"key": "api_version",
			"value": "v1",
			"type": "string",
			"description": {
				"content": "API version (if versioned)",
				"type": "text/plain"
			}
		},
		{
			"key": "user_email",
			"value": "rzadmin@socia.com",
			"type": "string",
			"description": {
				"content": "Default user email for authentication",
				"type": "text/plain"
			}
		},
		{
			"key": "user_password",
			"value": "password",
			"type": "string",
			"description": {
				"content": "Default user password for authentication",
				"type": "text/plain"
			}
		},
		{
			"key": "xsrf_token",
			"value": "",
			"type": "string",
			"description": {
				"content": "CSRF token extracted from XSRF-TOKEN cookie (auto-populated)",
				"type": "text/plain"
			}
		},
		{
			"key": "session_cookie_name",
			"value": "laravel_session",
			"type": "string",
			"description": {
				"content": "Expected session cookie name (Laravel default)",
				"type": "text/plain"
			}
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Current authenticated user ID (auto-populated after login)",
				"type": "text/plain"
			}
		},
		{
			"key": "user_name",
			"value": "",
			"type": "string",
			"description": {
				"content": "Current authenticated user name (auto-populated after login)",
				"type": "text/plain"
			}
		},
		{
			"key": "employee_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Employee ID for testing (auto-populated when creating employee)",
				"type": "text/plain"
			}
		},
		{
			"key": "department_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Department ID for testing (auto-populated when creating department)",
				"type": "text/plain"
			}
		},
		{
			"key": "position_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Position ID for testing (auto-populated when creating position)",
				"type": "text/plain"
			}
		},
		{
			"key": "role_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Role ID for testing",
				"type": "text/plain"
			}
		},
		{
			"key": "account_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Account ID for testing (auto-populated when creating account)",
				"type": "text/plain"
			}
		},
		{
			"key": "journal_entry_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Journal Entry ID for testing (auto-populated when creating journal entry)",
				"type": "text/plain"
			}
		},
		{
			"key": "budget_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Budget ID for testing (auto-populated when creating budget)",
				"type": "text/plain"
			}
		},
		{
			"key": "vendor_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Vendor ID for testing (auto-populated when creating vendor)",
				"type": "text/plain"
			}
		},
		{
			"key": "invoice_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Invoice ID for testing (auto-populated when creating invoice)",
				"type": "text/plain"
			}
		},
		{
			"key": "customer_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Customer ID for testing",
				"type": "text/plain"
			}
		},
		{
			"key": "receivable_invoice_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Receivable Invoice ID for testing (auto-populated when creating receivable invoice)",
				"type": "text/plain"
			}
		},
		{
			"key": "purchase_order_id",
			"value": "",
			"type": "string",
			"description": {
				"content": "Purchase Order ID for testing (auto-populated when creating purchase order)",
				"type": "text/plain"
			}
		}
	]
}