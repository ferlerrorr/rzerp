{
  "info": {
    "_postman_id": "rzerp-api-collection",
    "name": "RZERP API Collection",
    "description": "Complete API collection for RZERP backend with authentication setup",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "noauth"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "1. Get CSRF Cookie",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [""],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// CSRF cookie is automatically saved by Postman",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/csrf-cookie",
              "host": ["{{base_url}}"],
              "path": ["api", "csrf-cookie"]
            },
            "description": "Get CSRF cookie for session-based authentication. This should be called before login."
          },
          "response": []
        },
        {
          "name": "2. Login",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Ensure CSRF cookie is set before login",
                  "// Note: In Postman, cookies are automatically managed",
                  "// You may need to call 'Get CSRF Cookie' first"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Login successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "});",
                  "",
                  "// Save user data to collection variables",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data) {",
                  "        pm.collectionVariables.set('user_id', jsonData.data.id);",
                  "        pm.collectionVariables.set('user_email', jsonData.data.email);",
                  "        pm.collectionVariables.set('user_name', jsonData.data.name || '');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-XSRF-TOKEN",
                "value": "{{xsrf_token}}",
                "type": "text",
                "description": "CSRF token from cookie (Postman will auto-handle this)"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"{{user_email}}\",\n    \"password\": \"{{user_password}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Login with email and password. Session cookie will be automatically saved by Postman."
          },
          "response": []
        },
        {
          "name": "3. Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Registration successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"John Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "Register a new user account."
          },
          "response": []
        },
        {
          "name": "4. Get Current User (Me)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User data returned\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "    pm.expect(jsonData.data).to.have.property('roles');",
                  "    pm.expect(jsonData.data).to.have.property('permissions');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "me"]
            },
            "description": "Get current authenticated user information with roles and permissions. Requires authentication."
          },
          "response": []
        },
        {
          "name": "5. Get User (Alternative)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/user",
              "host": ["{{base_url}}"],
              "path": ["api", "user"]
            },
            "description": "Alternative endpoint to get current user. Same as /api/auth/me. Requires authentication."
          },
          "response": []
        },
        {
          "name": "6. Refresh Session",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Session refreshed\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "refresh"]
            },
            "description": "Refresh the current session. Regenerates session ID for security."
          },
          "response": []
        },
        {
          "name": "7. Logout",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Logout successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/logout",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "logout"]
            },
            "description": "Logout the current user. Requires authentication."
          },
          "response": []
        }
      ],
      "description": "Authentication endpoints for login, register, and user management"
    },
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/health",
              "host": ["{{base_url}}"],
              "path": ["api", "health"]
            },
            "description": "Check API health status. Public endpoint, no authentication required."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "List Users",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users",
              "host": ["{{base_url}}"],
              "path": ["api", "users"]
            },
            "description": "Get list of all users. Requires 'users.view' permission."
          },
          "response": []
        },
        {
          "name": "Get User by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "User ID"
                }
              ]
            },
            "description": "Get a specific user by ID. Requires 'users.view' permission."
          },
          "response": []
        },
        {
          "name": "Create User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"User created successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"New User\",\n    \"email\": \"newuser@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/users",
              "host": ["{{base_url}}"],
              "path": ["api", "users"]
            },
            "description": "Create a new user. Requires 'users.create' permission."
          },
          "response": []
        },
        {
          "name": "Update User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated User Name\",\n    \"email\": \"updated@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/users/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "User ID"
                }
              ]
            },
            "description": "Update a user. Requires 'users.update' permission."
          },
          "response": []
        },
        {
          "name": "Delete User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "User ID"
                }
              ]
            },
            "description": "Delete a user. Requires 'users.delete' permission."
          },
          "response": []
        },
        {
          "name": "Assign Roles to User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"roles\": [1, 2]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/users/:id/roles",
              "host": ["{{base_url}}"],
              "path": ["api", "users", ":id", "roles"],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "User ID"
                }
              ]
            },
            "description": "Assign roles to a user. Requires 'users.update' permission."
          },
          "response": []
        }
      ],
      "description": "User management endpoints. All require authentication and appropriate permissions."
    },
    {
      "name": "Roles",
      "item": [
        {
          "name": "List Roles",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/roles",
              "host": ["{{base_url}}"],
              "path": ["api", "roles"]
            },
            "description": "Get list of all roles. Requires 'users.view' permission."
          },
          "response": []
        }
      ],
      "description": "Role management endpoints. Requires authentication and appropriate permissions."
    },
    {
      "name": "HRIS",
      "item": [
        {
          "name": "HRIS Index",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/hris",
              "host": ["{{base_url}}"],
              "path": ["api", "hris"]
            },
            "description": "Get HRIS index. Requires 'hris.view' permission."
          },
          "response": []
        },
        {
          "name": "Get Employees",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/hris/employees",
              "host": ["{{base_url}}"],
              "path": ["api", "hris", "employees"]
            },
            "description": "Get list of employees. Requires 'hris.view' permission."
          },
          "response": []
        }
      ],
      "description": "HRIS endpoints. All require authentication and 'hris.view' permission."
    },
    {
      "name": "Employees",
      "item": [
        {
          "name": "List Employees",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.have.property('employees');",
                  "    pm.expect(jsonData.data).to.have.property('pagination');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/employees?per_page=15",
              "host": ["{{base_url}}"],
              "path": ["api", "employees"],
              "query": [
                {
                  "key": "per_page",
                  "value": "15",
                  "description": "Number of items per page"
                },
                {
                  "key": "search",
                  "value": "",
                  "description": "Search term (optional)",
                  "disabled": true
                },
                {
                  "key": "department",
                  "value": "",
                  "description": "Filter by department (optional)",
                  "disabled": true
                },
                {
                  "key": "position",
                  "value": "",
                  "description": "Filter by position (optional)",
                  "disabled": true
                }
              ]
            },
            "description": "Get list of all employees with pagination. Requires 'hris.view' permission."
          },
          "response": []
        },
        {
          "name": "Get Employee by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Employee data returned\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/employees/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "employees", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "Employee ID"
                }
              ]
            },
            "description": "Get a specific employee by ID. Requires 'hris.view' permission."
          },
          "response": []
        },
        {
          "name": "Create Employee",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Employee created successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "    pm.expect(jsonData.data).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('email');",
                  "});",
                  "",
                  "// Save employee ID to collection variable",
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.id) {",
                  "        pm.collectionVariables.set('employee_id', jsonData.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Juan\",\n    \"middleName\": \"Dela\",\n    \"lastName\": \"Cruz\",\n    \"email\": \"juan.cruz@example.com\",\n    \"phone\": \"+63 912 345 6789\",\n    \"birthDate\": \"1990-01-15\",\n    \"gender\": \"male\",\n    \"civilStatus\": \"single\",\n    \"streetAddress\": \"123 Main Street\",\n    \"city\": \"Manila\",\n    \"province\": \"Metro Manila\",\n    \"zipCode\": \"1000\",\n    \"sssNumber\": \"12-3456789-0\",\n    \"tin\": \"123-456-789-000\",\n    \"philHealthNumber\": \"12-345678901-2\",\n    \"pagIbigNumber\": \"1234-5678-9012\",\n    \"department\": \"IT\",\n    \"position\": \"Software Engineer\",\n    \"employmentType\": \"Full-time\",\n    \"startDate\": \"2024-01-01\",\n    \"monthlySalary\": \"50000.00\",\n    \"emergencyContactName\": \"Maria Cruz\",\n    \"emergencyContactPhone\": \"+63 912 345 6780\",\n    \"emergencyContactRelationship\": \"Mother\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/employees",
              "host": ["{{base_url}}"],
              "path": ["api", "employees"]
            },
            "description": "Create a new employee. Requires 'hris.create' permission. Accepts camelCase field names which are automatically converted to snake_case."
          },
          "response": []
        },
        {
          "name": "Update Employee",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Employee updated successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Juan\",\n    \"middleName\": \"Dela\",\n    \"lastName\": \"Cruz\",\n    \"email\": \"juan.cruz.updated@example.com\",\n    \"phone\": \"+63 912 345 6789\",\n    \"birthDate\": \"1990-01-15\",\n    \"gender\": \"male\",\n    \"civilStatus\": \"married\",\n    \"streetAddress\": \"123 Main Street\",\n    \"city\": \"Manila\",\n    \"province\": \"Metro Manila\",\n    \"zipCode\": \"1000\",\n    \"sssNumber\": \"12-3456789-0\",\n    \"tin\": \"123-456-789-000\",\n    \"philHealthNumber\": \"12-345678901-2\",\n    \"pagIbigNumber\": \"1234-5678-9012\",\n    \"department\": \"IT\",\n    \"position\": \"Senior Software Engineer\",\n    \"employmentType\": \"Full-time\",\n    \"startDate\": \"2024-01-01\",\n    \"monthlySalary\": \"60000.00\",\n    \"emergencyContactName\": \"Maria Cruz\",\n    \"emergencyContactPhone\": \"+63 912 345 6780\",\n    \"emergencyContactRelationship\": \"Mother\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/employees/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "employees", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "{{employee_id}}",
                  "description": "Employee ID"
                }
              ]
            },
            "description": "Update an employee. Requires 'hris.update' permission. Accepts camelCase field names."
          },
          "response": []
        },
        {
          "name": "Delete Employee",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Employee deleted successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/employees/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "employees", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "{{employee_id}}",
                  "description": "Employee ID"
                }
              ]
            },
            "description": "Delete an employee. Requires 'hris.delete' permission."
          },
          "response": []
        }
      ],
      "description": "Employee management endpoints. All require authentication and appropriate HRIS permissions."
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global pre-request script",
          "// This runs before every request",
          "",
          "// Extract XSRF token from cookies if available",
          "const cookies = pm.cookies.all();",
          "const xsrfCookie = cookies.find(cookie => cookie.name === 'XSRF-TOKEN');",
          "if (xsrfCookie) {",
          "    pm.collectionVariables.set('xsrf_token', xsrfCookie.value);",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": ["// Global test script", "// This runs after every request"]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "user_email",
      "value": "rzadmin@socia.com",
      "type": "string"
    },
    {
      "key": "user_password",
      "value": "password",
      "type": "string"
    },
    {
      "key": "xsrf_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_name",
      "value": "",
      "type": "string"
    },
    {
      "key": "employee_id",
      "value": "",
      "type": "string"
    }
  ]
}
